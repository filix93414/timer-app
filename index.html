<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Workout Timer</title>
  <link rel="stylesheet" href="stile.css?v=20250814">
</head>
<body>
  <main class="wrap">
    <header class="top">
      <h1>Workout Timer</h1>
	  <div id="progInfo" class="slot info">
		<div><strong>Fase A:</strong> <span id="infoA">—</span> s</div>
		<div><strong>Fase B:</strong> <span id="infoB">—</span> s</div>
		<div><strong>Ripetizioni:</strong> <span id="infoLoops">—</span></div>
	  </div>
      <div class="slot">
        <label for="progSel">Programma</label>
        <select id="progSel" aria-label="Seleziona programma">
          <option value="program1">program1</option>
          <option value="program2">program2</option>
          <option value="program3">program3</option>
          <option value="program3Adv">program3Adv</option>
          <option value="program4">program4</option>
        </select>
      </div>
      <div class="slot count">
        <div class="count-label">Completati (solo selezionato)</div>
        <div id="countVal" class="count-val">0</div>
        <button id="resetCountBtn" class="btn ghost">Reset conteggio</button>
      </div>
    </header>

    <section class="grid">
      <section class="panel left">
        <div class="slot phase">
          <div class="phase-row">
            <span class="lbl">Fase</span>
            <span id="phaseName" class="val">—</span>
          </div>
          <div class="phase-row">
            <span class="lbl">Tempo rimanente</span>
            <span id="timeLeft" class="val">00:00</span>
          </div>
          <div class="phase-row">
            <span class="lbl">Ciclo</span>
            <span id="loopInfo" class="val">0/0</span>
          </div>
        </div>

        <div class="slot rate">
          <div class="rate-head">
            <span class="lbl">SPM</span>
            <input id="rateInput" type="number" min="30" max="220" step="1" value="60" />
          </div>
          <div class="rate-quick">
            <button class="btn micro" data-rate="60">Basso 60</button>
            <button class="btn micro" data-rate="75">Moderato 75</button>
            <button class="btn micro" data-rate="90">Alto 90</button>
          </div>
        </div>

        <div class="slot controls">
          <button id="startBtn" class="btn primary">Avvia</button>
          <button id="stopBtn" class="btn danger">Termina</button>
        </div>
      </section>

      <aside class="panel right">
        <div class="bar-wrap" aria-label="Indicatore fase attiva">
          <div id="barTrack" class="bar-track">
            <div id="barFill" class="bar-fill"></div>
          </div>
          <div id="barHint" class="bar-hint">Indicatore attivo solo in fase A</div>
        </div>
      </aside>
    </section>
  </main>

  <!-- Modale: conferma completamento -->
  <div id="doneModal" class="modal" hidden>
    <div class="modal-box">
      <div class="modal-text">Vuoi segnare questo programma come completato?</div>
      <div class="modal-actions">
        <button id="doneNo" class="btn">Annulla</button>
        <button id="doneYes" class="btn primary">Conferma</button>
      </div>
    </div>
  </div>

  <!-- Modale: reset conteggio -->
  <div id="resetModal" class="modal" hidden>
    <div class="modal-box">
      <div class="modal-text">Azzerare il conteggio per questo programma?</div>
      <div class="modal-actions">
        <button id="resetNo" class="btn">Annulla</button>
        <button id="resetYes" class="btn danger">Reset</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
